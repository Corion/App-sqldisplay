<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="htmx.1.9.12.js"></script>
<script src="ws.1.9.12.js"></script>
<script src="idiomorph-ext.0.3.0.js"></script>

<link href="bootstrap.5.3.3.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<style>
body { margin: 0px; }

.my-container {
  display: flex;
  flex-flow: column;
  align-items: stretch;
  height: 100vh;
  /* background: #eee; */
}

.ui-top {
  height: 100px;
  width: 100px; /* A fixed width as the default */
}

.ui-main {
  flex: 1;
  /* flex-grow: 1; /* Set the middle element to grow and stretch */
  overflow: auto;
  /* background: #ddd; */

  display: flex;
  flex-flow: row;
  align-items: stretch;
}

.ui-main-left {
  width: 50%;
  overflow: auto;
  /* background: #ccc; */
}

.ui-main-right {
  width: 50%;
  overflow: auto;
  /* background: #bbb; */
}

.ui-bottom {
  min-height: 32px;
  padding: 0px;
  margin: 0px;
}

.tabs {
    display: flex;
    flex-wrap: wrap;
    flex-direction: column;
    gap: 4px;
}

.tabs > ol {
  display: inline;
  /* background: #aaa; */
  padding-top: 8px;
  margin: 0px;
}

.tabs > ol > li {
  width: 100%;
  padding-top: 8px;
  padding-left: 1em;
  padding-right: 1em;
  cursor: pointer;
  display: inline;
  border: solid 0.1rem black;
  margin: 0px;
}

.tabs li.active {
    font-weight: bold;
  border-top: none;
  background: #ccc;
}

td.num { text-align: right };

thead {
    position: sticky;
    top: 0;
}

</style>
</head>
<body hx-ext="ws" ws-connect="/notify?version=<%= $$ %>" >
    <div id="container" class="my-container">
        <div id="main_content" class="ui-main">
            <!--<div id="row" class="ui-main-left"> -->
            <div class="ui-main-left" style="overflow: auto;">
% for my $res (@$results) {
%= include 'query', res => $res;
% }
            </div>
            <iframe name="detail" class="ui-main-right"></iframe>
        </div>
        <div class="ui-bottom">
%= include 'tabs';
        </div>
    </div>
</body>
</html>

